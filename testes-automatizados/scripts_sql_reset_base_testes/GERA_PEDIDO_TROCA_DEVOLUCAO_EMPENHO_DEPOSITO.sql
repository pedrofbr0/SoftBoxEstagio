/*************************************************************************************************
 * GERA UM PEDIDO PARA O CASO DE TESTE "TrocaProdutoEmpenhoDeposito" EM TROCA/DEVOLUÇÃO
 *************************************************************************************************/
SET SERVEROUTPUT ON FORMAT WORD_WRAPPED;
DECLARE
  id_pedido number;
BEGIN  
  SELECT MAX(NRO_PEDIDO) INTO id_pedido FROM MV_PEDIDO WHERE NRO_LOJA = 1101;
  
  INSERT INTO MV_PEDIDO (NRO_PEDIDO, DT_ABERTURA_PEDIDO, DT_FECHAMENTO_PEDIDO, DT_FATURAMENTO_PEDIDO, VR_TOTAL_PRODUTOS, VR_TOTAL_SERVICOS, VR_TOTAL_DESCONTOS, QTDE_PARCELAS, FLAG_ENTRADA_PEDIDO, FLAG_ENTRADA_TABELA, VR_ENTRADA, NRO_ENDERECO, NRO_ENDERECO_PEDIDO, COMPLEMENTO_ENDERECO_PEDIDO, NRO_LOJA, OBS_ENDERECO_PEDIDO, FLAG_PLANILHA, FLAG_ANALISE_COMERCIAL, FLAG_ENDERECO_ENTREGA, NRO_TIPO_VENDA, NRO_CLIENTE, NRO_LOJA_CLIENTE, NRO_USUARIO, TIPO_CAMPANHA_PROMOCIONAL, STS_PEDIDO, FLAG_STS_LIBERACAO_CREDITO, NRO_STS_LIBERACAO_CREDITO, NRO_USUARIO_LIBERACAO_CREDITO, NRO_USUARIO_ATIVO, COD_LOGRADOURO, COD_BAIRRO, COD_CGL, FLAG_EXPORTACAO, NRO_PRE_PEDIDO, NRO_LOJA_PRE_PEDIDO, NRO_PDV, NRO_USUARIO_LIBERACAO_MANUAL, DT_LIBERACAO_CREDITO, NRO_IP_ESTACAO, QTDE_DIAS_CARENCIA_POSITIVA, IND_PEDIDO_JA_FECHADO, SUMARIO_ITEM, SUMARIO_SERVICO_ITEM, SUMARIO_SERVICO_PEDIDO, SUMARIO_IND_DEVOLVIDO, VERSAO_APP, FLAG_IMPRESSAO_RECIBOS, VR_TAC, VR_PRESTACAO, DT_VENCTO_1, CARENCIA_VENCTO_1, PLANO_COD_TIPO_TABELA, PLANO_COD_CONCEITO, IND_LIBERACAO_MIG, DT_VENCTO_INICIAL_1, IND_SPC_OBRIGATORIO, IND_ELEGIVEL_PROTECAO_MAIOR, IND_COMP_TABESP, NRO_PEDIDO_MANUAL, IND_FLEXIBILIZADO, NOME_USUARIO_LIB_ABRV, ARQUIVO_ORESA, VR_TOTAL_COMISSAO, FATOR_COMISSAO, PLANO_IND_JUROS_ADMINISTRADORA, PLANO_IND_CDCI, PLANO_CODIGO_SGR, PLANO_FATOR_PLANO, BLOQUEADO_CENTRAL_CREDITO, DT_MANUTENCAO) VALUES (id_pedido+1, to_char(sysdate, 'dd/mm/yyyy'), to_char(sysdate, 'dd/mm/yyyy'), to_char(sysdate, 'dd/mm/yyyy'), '683,16', '25', '0', '0', '0', '0', '0', '1', null, null, '1101', null, '1', null, null, '1', '8310010247', '1101', '6699', null, '40', null, null, null, null, null, null, null, '0', null, null, '7', null, null, null, null, null, 'MINI SYSTEM SAMSUNG MX-J640 200W BIV', null, null, null, '3.00.00', 'N', '0', '0', null, null, null, null, null, to_char(sysdate, 'dd/mm/yyyy'), null, '0', null, null, null, null, null, '0', null, null, null, null, null, null, null);
  INSERT INTO MV_ITEM_PEDIDO_PRODUTO (COD_TIPO_AUTORIZACAO, NRO_AUTORIZACAO_VENDA, NRO_LOJA, NRO_LOJA_AUTORIZACAO_VENDA, NRO_LOJA_EMPENHO, NRO_GRUPO_ESTOQUE, COD_LOGRADOURO, NRO_GRUPO_PROMOCAO, NRO_PROMOCAO, NRO_DEPTO, NRO_EQUALIZACAO, COD_BAIRRO, COD_CGL, COD_TIPO_TABELA, COD_TIPO_TABELA_REVERSAO, NRO_LOJA_SAIDA_ESTOQUE, COD_TIPO_TABELA_INICIAL, NRO_PEDIDO, NRO_USUARIO, NRO_PRODUTO, NRO_ITEM_PEDIDO_PRODUTO, QTDE_PEDIDA_PRODUTO, QTDE_DEVOLVIDA_PRODUTO, NRO_EMPENHO, FLAG_SAIDA_ESTOQUE, DT_PREVISAO_ENTREGA, VR_UNITARIO_PRODUTO, VR_SERVICO_AGREGADO, CUSTO_GERENCIAL_SERVICO, PRECO_LISTA, PRECO_PARTIDA, FATOR_PRESTACAO, FATOR_CARENCIA, CUSTO_GERENCIAL, VR_ENTRADA_PRODUTO, DT_CADASTRO_ITEM_PRODUTO, IND_FATURAMENTO_ITEM_PEDIDO, DT_FATURAMENTO_ITEM_PEDIDO, QTDE_FATURADA_PRODUTO, OBS_ITEM_PEDIDO, DESC_INFO_ADICIONAL, NRO_ENDERECO, NRO_ENDERECO_ITEM, COMPLEMENTO_ENDERECO_ITEM, OBS_ENDERECO_ITEM, IND_AUTORIZACAO_VENDA, QTDE_CANCELADA_PRODUTO, NRO_CONTRATO, MARGEM_OBJETIVA, FLAG_AGRUPAMENTO_NF, NOVO_CUSTO, VR_FATURAMENTO_PRODUTO, VR_ENTRADA_PRODUTO_RD, IND_ELEGIVEL_SERVICO, PRECO_LISTA_EQUALIZADO, COMISSAO_PRODUTO, IND_ENTREGA_PRODUTO, ALIQUOTA_ICMS, PERC_MAX_DESCONTO, FLAG_SAIDA_ESTOQUE_EQUALIZADO, NRO_LOJA_EMPENHO_EQZ, VR_ICMS_SEM_EXCECAO_FISCAL, VR_ICMS_COM_EXCECAO_FISCAL, DT_RETENCAO, VR_FATURAMENTO_SERVICO, PERC_IMPOSTOS, NRO_KIT, NRO_SUBGRUPO_PRODUTO, NRO_GRUPO_PRODUTO, NRO_GRUPO_ESTOQUE_PRO, COD_CONCEITO_CLIENTE_PRO, NRO_GRUPO_ESTOQUE_EQZ, COD_CONCEITO_CLIENTE_EQZ, OBS_EMPENHO, COD_TIPO_TABELA_LIMITE, VR_EQUALIZACAO, MARGEM_MINIMA, CARENCIA_PROMOCAO, MARGEM_REALIZADA, VR_TAC_PRODUTO, VR_PRESTACAO_PRODUTO, IND_MONTAGEM, IND_MONTA_PRODUTO, DT_PREVISAO_MONTAGEM, IND_NF_PRESENTE, NRO_INFO_ADICIONAL, NRO_INFO_ADICIONAL_2, DESC_INFO_ADICIONAL_2, NRO_INFO_ADICIONAL_3, DESC_INFO_ADICIONAL_3, TAB_MAX_LIBERADA, NRO_LOJA_EQUALIZACAO, SEQ_KIT, NRO_PEDIDO_COMPRA, VR_COMPENSACAO, ID_ENTREGA_PEDIDO_COMPRA, IND_EQUALIZACAO_ASSOCIADA, NRO_LISTA_CASAMENTO, PRECO_MINIMO, PERC_COMISSAO_VENDEDOR, NRO_PRO, NRO_PRO_SEQ_MAN, NRO_PRO_SEQ_AUT_PREST, NRO_PRO_SEQ_AUT_PLANO, VR_SERVICO_FRETE, COD_SITUACAO_PRODUTO, NRO_ORDEM_MONTAGEM, FLAG_INTEGRACAO, NRO_PLANO_PROMOCAO, VALOR_COMISSAO, FAIXA_COMISSAO, PERC_COMISSAO, IND_CLIENTE_RETIRA_DEPOSITO, NRO_LOJA_REFERENCIA, NRO_PEDIDO_REFERENCIA, NRO_ITEM_PED_REFERENCIA, IND_INTEGRADO, NRO_RESERVA_ESTOQUE, VR_TROCA_PRODUTO, NRO_PERFIL_USUARIO_VENDA, IND_CANCELA_ULTIMO_CF, NRO_LOJA_RETIRADA, IND_EMPENHO_MANUAL, CUSTO_GERENCIAL_ERP, NB_MGMT_ITEM_COST, NB_MGMT_ITEM_COST_AVG, NB_MGMT_NET_COST, NB_MGMT_NET_COST_AVG, NB_MGMT_FINAN_ADJ, NB_MGMT_FINAN_ADJ_AVG, NB_MGMT_NET_COST_TAX, NB_MGMT_NET_COST_TAX_AVG, NB_MGMT_COST_AVG, PERCENTUAL_DEPARTAMENTO, NRO_ITEM_PEDIDO_COMPRA, NRO_DATA_ENTREGA, FLAG_CUSTO_ORIGEM_COMPRA, PERC_DESPESA_FINANCEIRA, DT_MANUTENCAO, VR_ENCARGOS_SERVICOS) VALUES (null, null, '1101', null, '601', '1', null, null, null, '26', null, null, null, null, null, '601', null, id_pedido+1, '6699', '223893', '1', '1', '0', 'RE', '1', null, '683,16', '0', '0', '649', '683,16', '0', '0', '358,77', '0', to_char(sysdate, 'dd/mm/yyyy'), 'N', null, null, null, null, '1', null, null, null, null, '0', null, '0', '1', '344,97', '683,16', null, null, null, null, '1', '18', null, null, null, null, null, null, '0', null, null, '6078', '218', null, null, null, null, null, null, null, '0', null, '59,17', '0', '0', '0', '0', null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, '683,16', null, null, null, null, null, '25', 'AT', null, '0', null, '0', null, null, '0', null, null, null, null, null, null, '2', null, null, null, '271,66', '344,97', '320,23', '271,66', '252,18', '271,66', '252,18', '271,66', '252,18', '252,18', '1,04', null, null, null, null, null, null);
  INSERT INTO MV_PEDIDO_SERVICO (NRO_PEDIDO, NRO_LOJA, NRO_SERVICO, NRO_USUARIO, NRO_CONTRATO, NRO_NUMERO_CAPITALIZACAO, MARGEM_OBJETIVA, CUSTO_GERENCIAL_SERVICO, PRECO_LISTA, VR_UNITARIO_SERVICO, DT_CANCELAMENTO_SERVICO, COD_CANCELAMENTO_CONTRATO, DT_ENVIO_ADESAO, DT_ENVIO_CANCELAMENTO, VR_FATURAMENTO_SERVICO, MARGEM_MINIMA, COD_TIPO_TABELA, COD_TIPO_TABELA_REVERSAO, COD_TIPO_TABELA_INICIAL, COD_TIPO_TABELA_LIMITE, FATOR_PRESTACAO, FATOR_CARENCIA, VR_ENTRADA_SERVICO, VR_TAC_SERVICO, VR_PRESTACAO_SERVICO, EP_FLAG_TIPO_PAGTO, EP_TIPO_CONTA, EP_BANCO, EP_AGENCIA, EP_AGENCIA_DIG, EP_CONTA, EP_CONTA_DIG, EP_C2, EP_C3, QTDE_SERVICO, NRO_ARQUIVO_VENDA, NRO_ARQUIVO_REJEICAO, NRO_MENSAGEM_REJEICAO, NRO_ARQUIVO_REENVIO, NRO_ARQUIVO_CANCELAMENTO, NRO_SERVICO_ENTERPRISE, NRO_TELEFONE, NRO_TRANSACAO_TEF, VALOR_COMISSAO, FAIXA_COMISSAO, PERC_COMISSAO, NRO_SEQ_RECARGA, VR_TROCA_SERVICO, NRO_PERFIL_USUARIO_VENDA, SERIE_RPS, NUMERO_RPS, CODIGO_GARANTIA, CODIGO_RECARGA, PERC_COM_EST, PERC_IOF, VR_ENCARGOS_SERVICOS) VALUES (id_pedido+1, '1101', '104141', '6699', null, null, null, '10', '25', '25', null, null, null, null, '25', null, null, null, null, null, '0', '0', '0', '0', '0', null, null, null, null, null, null, null, null, null, '1', null, null, null, null, null, null, null, null, '0', null, null, null, null, '2', null, null, null, null, null, null, null);
  INSERT INTO MV_PLANILHA_PAGTO_PEDIDO (NRO_SEQ_PAGTO_PEDIDO, FLAG_TIPO_PAGTO_PEDIDO, VR_PAGTO_PEDIDO, CONTA_PAGTO_PEDIDO_AGENCIA, CONTA_PAGTO_PEDIDO_NRO, CARTAO_PAGTO_NRO, NRO_DOCTO_PAGTO, DT_VENCTO_DOCTO_PAGTO, CONTA_CLIENTE_DT_CADASTRO_MES, CONTA_CLIENTE_DT_CADASTRO_ANO, VR_RECEBIDO_PEDIDO, NRO_PEDIDO, NRO_LOJA, COD_BANCO, NRO_FORMA_PAGTO, CARTAO_PAGTO_LOTE, NRO_FUNCIONARIO, NRO_PROTOCOLO, VR_IMPRESSAO, FLAG_TRANSACAO_TEF, COD_RETORNO_TEF, DT_PAGTO_ACORDO, VR_JUROS_ACORDO, VR_MULTA_ACORDO, VR_PAGTO_ACORDO, NRO_LOJA_PAGTO_ACORDO, FLAG_EXPORTACAO, PARCELA_DOCTO_PAGTO, REC_NRO_PEDIDO, REC_NRO_LOJA, VR_PLANILHA, CMC7_DOCTO_PAGTO, TEF_NRO_PEDIDO_ORIGINAL, TEF_NRO_LOJA_ORIGINAL, TEF_NRO_SEQ_ORIGINAL, SEQ_FIN, COD_CONTROLE_SCOPE, COD_AUTORIZACAO_RECARGA, QTDE_PARCELAS, NRO_PEDIDO_TIPO_VENDA, NRO_LOJA_ENTERPRISE, NRO_PEDIDO_ENTERPRISE, NRO_TRANSACAO_TEF, NRO_TIPO_CONVENIO_CDCI, PERC_JUROS, VR_JUROS, IND_JUROS_ADMINISTRADORA, VR_TOTAL_COMISSAO, FATOR_COMISSAO, NRO_AUTORIZACAO_VALE_TROCA, NRO_DIG_VALE_TROCA, NOME_INSTITUICAO_TEF, VR_DEVOLVIDO) VALUES ('1', 'V', '708,16', null, null, null, null, to_char(sysdate, 'dd/mm/yyyy'), null, null, '708,16', id_pedido+1, '1101', null, '1', null, null, null, '708,16', 'N', null, null, null, null, null, null, '0', null, null, null, '708,16', null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null);
  INSERT INTO MV_PRECIFICACAO_ITEM_PEDIDO (NRO_PEDIDO, NRO_LOJA, NRO_ITEM_PEDIDO_PRODUTO, PERC_ACIMA_PL, PERC_COMERCIALIZACAO, PRECO_LISTA, PRECO_LISTA_ORIGINAL, VR_UNITARIO_PRODUTO, VR_FATURAMENTO_PRODUTO, PRECO_PARTIDA, VR_BASE_LUCRE_GANHE, VR_PERCENTUAL_LUCRE_GANHE, VR_LUCRE_GANHE, NRO_USUARIO_REAGENDAMENTO) values (id_pedido+1, '1101', '1', '80', '5', '649', null, '683,16', '683,16', '683,16', null, null, null, null);
  INSERT INTO MV_PRECIFICACAO_PEDIDO_SERVICO (NRO_PEDIDO, NRO_LOJA, NRO_SERVICO, COD_OPERACAO_CAIXA, COD_OPERACAO_CAIXA_D, COD_OPERACAO_CAIXA_JUROS, COD_OPERACAO_CAIXA_JUROS_D) VALUES (id_pedido+1, '1101', '104141', null, null, '333', '334');
  INSERT INTO MV_CONTROLE_FATURAMENTO (NRO_LOJA, DT_CONTROLE_FATURAMENTO, NRO_PEDIDO, NRO_LOJA_PEDIDO, NRO_ITEM_PEDIDO_PRODUTO, FLAG_PROCESSAMENTO, QTDE_A_FATURAR, QTDE_FATURADA_ITEM_PEDIDO, DT_FATURAMENTO_ITEM_PEDIDO, NRO_LOJA_FATURAMENTO, NRO_SEQ_NF, NRO_GRUPO_ESTOQUE, SEQ_CONTROLE_FATURAMENTO, NRO_LOJA_TRANSFERENCIA, NRO_SEQ_NF_TRANSF, NRO_LOJA_NF_TRANSF, NRO_ITEM_NF_TRANSF, QTDE_CANCELADA, BASE, ROTA, SEQUENCIA, DT_EMISSAO_ACERTO, FLAG_FAT_ANTECIP, NRO_FORNECEDOR_TRANSPORTADORA, PLACA_VEICULO, PLACA_VEICULO_UF, FLAG_TIPO_FRETE, DT_ACERTO_MONTAGEM, NRO_PRODUTO, QTDE_ESTOQUE_MINIMA, QTDE_ESTOQUE_MAXIMA, QTDE_ESTOQUE_LOJA, QTDE_NECESSARIA_LOJA, TIPO_CONTROLE_FATURAMENTO, DT_PROCESSAMENTO, VR_FRETE, VR_UNITARIO_FATURAMENTO, NRO_CARGA_VEICULO, DT_FATURAMENTO_R11, DT_CANCELAMENTO, DT_LIBERACAO_PRE_DISPONIVEL, NRO_KIT, SEQ_CONTROLE_FAT_REF, NRO_LOJA_REFATURAMENTO, NRO_CUPOM, NRO_TRANSFERENCIA_ORMS, COD_PASSO, DT_ENVIO_ORMS, DT_CONFIRMACAO, NRO_TRANSFERENCIA_ORMS_REF, NRO_ITEM_NF, IND_CLIENTE_RETIRA_DEPOSITO, NRO_AUTORIZACAO, NRO_ITEM_AUTORIZACAO, DT_CONSUMO_INTEGRACAO, FLAG_CONSUMO_INTEGRACAO, IND_PRIORIDADE, NRO_LOJA_RENOVACAO, NRO_SEQ_NF_RENOVACAO, NRO_VENDA_ORDEM_TERCEIRO, NRO_SEQ_VENDA_ORDEM_TERCEIRO, NRO_USUARIO, NRO_USUARIO_CANCELAMENTO, QTDE_EMPENHADA) VALUES ('601', to_char(sysdate-1, 'dd/mm/yyyy'), id_pedido+1, '1101', '1', '0', '1', '0', null, null, null, '1', SEQ_CONTROLE_FATURAMENTO.nextval, '764', null, null, null, '0', '9221', 'A', '1', null, 'N', null, null, null, null, null, '223893', null, null, null, null, 'R', null, '0', null, null, null, null, null, null, null, null, null, null, '1', null, null, null, null, '0', null, null, null, null, null, null, null, null, null, null, null, null);
  
  DBMS_OUTPUT.PUT_LINE('Pedido gerado -> nro_pedido = ' || (id_pedido+1));
END;
